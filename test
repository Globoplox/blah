require "truc/pet.blah"

struct Person {
  age : _
  name : *_
  friends : *Person
  best_friend : *Person
}



fun read_io(src : *_, dst : *_, limit : _) : _ {
  var offset : _ = 0x0
  var read : _ = 0x0
  var test : Person

  test.best_friend = &test
  test.best_friend.best_friend.best_friend.age = 0x19
  while (offset < max_size && offset == 0x0 || read != 0xff00) {
    *src + offset = *dst + offset
    offset = offset + 0x1
  }
  return offset
}
